<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navbar Fade Effect - Isolated Test</title>
    <style>
        /* Reset and base styles */
        body, html {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        /* Make the page scrollable */
        body {
            min-height: 200vh;
            padding-top: 80px;
            background: linear-gradient(to bottom, #f5f5f5, #e0e0e0);
        }
        
        /* Header styles */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #4D5DFF;
            color: white;
            height: 60px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .header.nav-hidden {
            transform: translateY(-100%);
        }
        
        /* Content styling */
        .content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .section {
            background-color: white;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        h1 {
            margin-top: 0;
        }
        
        /* Debug panel */
        #debug-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #333;
            color: white;
            padding: 10px 20px;
            font-family: monospace;
            display: flex;
            justify-content: space-between;
        }
        
        .debug-item {
            margin-right: 20px;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Navbar Fade Test</h1>
    </header>
    
    <div class="content">
        <div class="section">
            <h2>Navbar Fade Effect Test</h2>
            <p>Scroll down to see the navbar disappear. Scroll up to see it reappear.</p>
            <p>This is an isolated test environment to ensure the navbar fade effect works correctly.</p>
        </div>
        
        <div class="section">
            <h2>Testing Instructions</h2>
            <ol>
                <li><strong>Scroll down slowly</strong> - The navbar should disappear</li>
                <li><strong>Scroll up slightly</strong> - The navbar should reappear</li>
                <li><strong>Go back to the top</strong> - The navbar should remain visible</li>
            </ol>
            <p>The debug panel at the bottom shows the current scroll position and direction.</p>
        </div>
        
        <div class="section">
            <h2>More Content</h2>
            <p>This section exists to make the page scrollable.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nisl eget ultricies lacinia, nisl nisl aliquam nisl, eget aliquet nisl nisl eget nisl.</p>
        </div>
        
        <div class="section">
            <h2>Even More Content</h2>
            <p>Keep scrolling to test the navbar fade effect thoroughly.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nisl eget ultricies lacinia, nisl nisl aliquam nisl, eget aliquet nisl nisl eget nisl.</p>
        </div>
    </div>
    
    <div id="debug-panel">
        <div class="debug-item">Scroll Position: <span id="scroll-pos">0</span>px</div>
        <div class="debug-item">Direction: <span id="scroll-dir">-</span></div>
        <div class="debug-item">Header Class: <span id="header-class">header</span></div>
    </div>
    
    <script>
        // Wait for document to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Navbar fade test initialized');
            
            // Get elements
            const header = document.querySelector('.header');
            const scrollPos = document.getElementById('scroll-pos');
            const scrollDir = document.getElementById('scroll-dir');
            const headerClass = document.getElementById('header-class');
            
            // Initial values
            let lastScrollY = window.scrollY;
            
            // Update debug info
            function updateDebugInfo() {
                scrollPos.textContent = window.scrollY;
                headerClass.textContent = header.className;
            }
            
            // Update header visibility
            function updateHeaderVisibility() {
                const currentScrollY = window.scrollY;
                
                // Update direction indicator
                if (currentScrollY > lastScrollY) {
                    scrollDir.textContent = 'DOWN';
                } else {
                    scrollDir.textContent = 'UP';
                }
                
                // Show header when at the top
                if (currentScrollY < 50) {
                    header.classList.remove('nav-hidden');
                } 
                // Hide when scrolling down, show when scrolling up
                else {
                    if (currentScrollY > lastScrollY) {
                        // Scrolling DOWN - hide header
                        header.classList.add('nav-hidden');
                    } else {
                        // Scrolling UP - show header
                        header.classList.remove('nav-hidden');
                    }
                }
                
                // Update last scroll position
                lastScrollY = currentScrollY;
                
                // Update debug info
                updateDebugInfo();
            }
            
            // Add scroll event listener
            window.addEventListener('scroll', function() {
                // Use requestAnimationFrame for better performance
                window.requestAnimationFrame(updateHeaderVisibility);
            });
            
            // Initial update
            updateDebugInfo();
            console.log('Scroll event listener added');
        });
    </script>
</body>
</html>
